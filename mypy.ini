# mypy.ini
# For a complete list of options, see the mypy documentation:
# https://mypy.readthedocs.io/en/stable/config_file.html

[mypy]
# Specify the Python version we're targeting.
python_version = "3.10"

# Define the paths to type check.
files = ["src/cryptochart", "tests", "scripts"]

# Exclude generated protobuf files, as they are not meant to be manually edited
# and may not pass strict type checks.
exclude = 'src/cryptochart/types/.*_pb2\.py$'


# --- Strictness Flags ---
# The following options are equivalent to using the --strict command-line flag.
# See: https://mypy.readthedocs.io/en/stable/command_line.html#cmdoption-mypy-strict
disallow_untyped_calls = true
disallow_untyped_defs = true
disallow_incomplete_defs = true
check_untyped_defs = true
disallow_untyped_decorators = true

warn_redundant_casts = true
warn_unused_ignores = true
warn_return_any = true
warn_unreachable = true

no_implicit_reexport = true
strict_equality = true

# --- Additional Recommended Flags ---
# These are not part of --strict but are highly recommended for robust code.
warn_unused_configs = true
no_implicit_optional = true # Don't allow `None` where `Optional` is not used.
disallow_any_unimported = true # Prohibit `Any` from unimported modules.

# --- Per-module settings for libraries without stubs or with incomplete typing ---
# PyQtGraph and qt-asyncio may have some missing stubs or dynamic parts.
[mypy-pyqtgraph.*]
ignore_missing_imports = true

[mypy-qt_asyncio.*]
ignore_missing_imports = true

[mypy-keyring.*]
ignore_missing_imports = true